# üìÅ Scripts - –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏

–ü–∞–ø–∫–∞ –¥–ª—è –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, —Å–æ–∑–¥–∞–Ω–Ω—ã—Ö –≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è SDET/DevOps.

---

## üìã –°–ø–∏—Å–æ–∫ —Å–∫—Ä–∏–ø—Ç–æ–≤

### üîÑ –ê–∫—Ç–∏–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

#### –ù–µ–¥–µ–ª—è 1 - –û—Å–Ω–æ–≤—ã

**load_test.py** - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è API
- –°–æ–∑–¥–∞—ë—Ç HTTP –∑–∞–ø—Ä–æ—Å—ã –∫ API
- –ò–º–∏—Ç–∏—Ä—É–µ—Ç –æ—à–∏–±–∫–∏ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∑–∞–¥–∞—á–µ "–ë–∞–≥ –≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ"
- –ó–∞–ø—É—Å–∫: `python load_test.py`

**monitoring_script.sh** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∑–¥–æ—Ä–æ–≤—å—è Docker —Å–µ—Ä–≤–∏—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
- Health check PostgreSQL –∏ Backend API
- –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ –Ω–∞ –æ—à–∏–±–∫–∏
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- –ó–∞–ø—É—Å–∫: `./scripts/monitoring_script.sh` –∏–ª–∏ `./scripts/monitoring_script.sh --quick`

**cleanup_logs.sh** - –û—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤
- –ü–æ–∏—Å–∫ –∏ —É–¥–∞–ª–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å—Ç–∞—Ä—à–µ N –¥–Ω–µ–π
- Dry-run —Ä–µ–∂–∏–º –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å)
- –§–ª–∞–≥ --force –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è
- –ó–∞–ø—É—Å–∫: `./scripts/cleanup_logs.sh --days=7 --dry-run`

**backup_logs.sh** - Backup –ª–æ–≥–æ–≤ —Å timestamp
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å timestamp –≤ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- –ê—Ä—Ö–∏–≤–∞—Ü–∏—è –≤ tar.gz (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –∞—Ä—Ö–∏–≤–æ–≤
- –ó–∞–ø—É—Å–∫: `./scripts/backup_logs.sh --service=backend --archive`

#### –ù–µ–¥–µ–ª—è 2 - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤

**find_slow_requests.sh** - –ü–æ–∏—Å–∫ –º–µ–¥–ª–µ–Ω–Ω—ã—Ö HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- –ê–Ω–∞–ª–∏–∑ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∑–∞–ø—Ä–æ—Å–æ–≤
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ (min, max, avg, p50, p95, p99)
- –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ threshold
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –≤ —Ñ–∞–π–ª
- –ó–∞–ø—É—Å–∫: `./scripts/find_slow_requests.sh --threshold=1.0`

**logs_rotation.sh** - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–æ—Ç–∞—Ü–∏—è –ª–æ–≥–æ–≤
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ª–æ–≥–æ–≤ —Å timestamp
- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ —Å–∂–∞—Ç–∏–µ (gzip)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ–∞–π–ª–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤ –∏–ª–∏ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ
- –ó–∞–ø—É—Å–∫: `./scripts/logs_rotation.sh --service=backend --compress --max-files=7`

**live_monitor.sh** - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- Live-–ø—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π
- –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ –∞–ª–µ—Ä—Ç—ã –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞–º
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∞–ª–µ—Ä—Ç–æ–≤ –≤ —Ñ–∞–π–ª
- –ó–∞–ø—É—Å–∫: `./scripts/live_monitor.sh --service=backend --alert-on=ERROR`

**error_patterns.sh** - –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –æ—à–∏–±–æ–∫
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –æ—à–∏–±–æ–∫
- –ê–Ω–∞–ª–∏–∑ HTTP –∫–æ–¥–æ–≤
- –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ endpoint –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–∏
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è HTML –æ—Ç—á—ë—Ç–æ–≤
- –ó–∞–ø—É—Å–∫: `./scripts/error_patterns.sh --service=backend --report`

#### –ù–µ–¥–µ–ª—è 4 - –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –∞–Ω–∞–ª–∏–∑ (awk, sed, jq)

**log_stats.sh** - –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –ª–æ–≥–æ–≤ (—Ñ–∏–Ω–∞–ª—å–Ω–æ–µ –∑–∞–¥–∞–Ω–∏–µ)
- –û–±—ä–µ–¥–∏–Ω—è–µ—Ç –≤—Å–µ –∏–∑—É—á–µ–Ω–Ω—ã–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã: awk, sed, jq, grep
- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ HTTP –∫–æ–¥–æ–≤ —Å —Ü–≤–µ—Ç–æ–≤–æ–π –∏–Ω–¥–∏–∫–∞—Ü–∏–µ–π
- –¢–æ–ø –æ—à–∏–±–æ–∫, IP-–∞–¥—Ä–µ—Å–æ–≤, —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –ê–Ω–∞–ª–∏–∑ Docker –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤ —á–µ—Ä–µ–∑ jq
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è JSON –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏
- –ò—Ç–æ–≥–æ–≤–∞—è —Å–≤–æ–¥–∫–∞ —Å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è–º–∏
- –ó–∞–ø—É—Å–∫: `./scripts/log_stats.sh` –∏–ª–∏ `./scripts/log_stats.sh --service=backend --top=5`

---

## üöÄ –ó–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã:

- [ ] `test_report.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç—á—ë—Ç –æ —Ç–µ—Å—Ç–∞—Ö
- [ ] `health_check.sh` - –ë—ã—Å—Ç—Ä–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- [ ] `performance_test.sh` - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] `docker_cleanup.sh` - –û—á–∏—Å—Ç–∫–∞ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö Docker —Ä–µ—Å—É—Ä—Å–æ–≤

---

## üìö –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### Python —Å–∫—Ä–∏–ø—Ç—ã:

```bash
# –í WSL –∏–ª–∏ PowerShell
python scripts/load_test.py
```

### Bash —Å–∫—Ä–∏–ø—Ç—ã:

```bash
# –í WSL (—Å–Ω–∞—á–∞–ª–∞ —Å–¥–µ–ª–∞–π –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º)
chmod +x scripts/monitoring_script.sh
./scripts/monitoring_script.sh

# –ò–ª–∏ —á–µ—Ä–µ–∑ bash
bash scripts/monitoring_script.sh
```

### –í Windows PowerShell:

```powershell
# Bash —Å–∫—Ä–∏–ø—Ç—ã —á–µ—Ä–µ–∑ WSL
wsl bash scripts/monitoring_script.sh

# Python —Å–∫—Ä–∏–ø—Ç—ã –Ω–∞–ø—Ä—è–º—É—é
python scripts\load_test.py
```

---

## üîß Best Practices

1. **–ò–º–µ–Ω–æ–≤–∞–Ω–∏–µ:**
   - Python: `snake_case.py`
   - Bash: `kebab-case.sh` –∏–ª–∏ `snake_case.sh`
   - –í—Å–µ–≥–¥–∞ –æ–ø–∏—Å–∞—Ç–µ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞

2. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:**
   - –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –Ω–∞—á–∞–ª–µ –∫–∞–∂–¥–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
   - –û–ø–∏—Å–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
   - –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞

3. **–û—à–∏–±–∫–∏:**
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ return codes
   - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
   - Graceful shutdown

4. **–ü–µ—Ä–µ–Ω–æ—Å–∏–º–æ—Å—Ç—å:**
   - Bash —Å–∫—Ä–∏–ø—Ç—ã: `#!/bin/bash` –≤ –Ω–∞—á–∞–ª–µ
   - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –ø–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º
   - –ò–∑–±–µ–≥–∞—Ç—å hardcoded –ø—É—Ç–µ–π (–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ)

---

**–°–æ–∑–¥–∞–Ω–æ:** 2025-12-21
**–ê–≤—Ç–æ—Ä:** Admin (–≤ –ø—Ä–æ—Ü–µ—Å—Å–µ –æ–±—É—á–µ–Ω–∏—è SDET/DevOps)
